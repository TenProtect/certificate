<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Generate TabBar Icons</title>
</head>
<body>
    <canvas id="canvas" width="78" height="78" style="border: 1px solid #ccc; margin: 10px;"></canvas>
    <br>
    <button onclick="generateIcon('home', false)">首页(未选中)</button>
    <button onclick="generateIcon('home', true)">首页(选中)</button>
    <button onclick="generateIcon('order', false)">订单(未选中)</button>
    <button onclick="generateIcon('order', true)">订单(选中)</button>
    <button onclick="generateIcon('profile', false)">我的(未选中)</button>
    <button onclick="generateIcon('profile', true)">我的(选中)</button>
    
    <div id="downloads"></div>

    <script>
        function generateIcon(type, active) {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            const size = 78;
            const color = active ? '#3D45E6' : '#666666';
            
            // 清空画布
            ctx.clearRect(0, 0, size, size);
            ctx.fillStyle = color;
            ctx.strokeStyle = color;
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            // 绘制不同类型的图标
            switch(type) {
                case 'home':
                    drawHomeIcon(ctx, size, active);
                    break;
                case 'order':
                    drawOrderIcon(ctx, size, active);
                    break;
                case 'profile':
                    drawProfileIcon(ctx, size, active);
                    break;
            }
            
            // 生成下载链接
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const filename = `${type}${active ? '-active' : ''}.png`;
                const link = document.createElement('a');
                link.href = url;
                link.download = filename;
                link.textContent = `下载 ${filename}`;
                link.style.display = 'block';
                link.style.margin = '5px 0';
                document.getElementById('downloads').appendChild(link);
            });
        }
        
        function drawHomeIcon(ctx, size, active) {
            const centerX = size / 2;
            const centerY = size / 2;
            
            if (active) {
                // 填充样式
                ctx.beginPath();
                ctx.moveTo(centerX, centerY - 20);
                ctx.lineTo(centerX - 20, centerY - 5);
                ctx.lineTo(centerX - 20, centerY + 15);
                ctx.lineTo(centerX + 20, centerY + 15);
                ctx.lineTo(centerX + 20, centerY - 5);
                ctx.closePath();
                ctx.fill();
                
                // 门
                ctx.fillStyle = 'white';
                ctx.fillRect(centerX - 8, centerY + 3, 16, 12);
            } else {
                // 轮廓样式
                ctx.beginPath();
                ctx.moveTo(centerX, centerY - 20);
                ctx.lineTo(centerX - 20, centerY - 5);
                ctx.lineTo(centerX - 20, centerY + 15);
                ctx.lineTo(centerX + 20, centerY + 15);
                ctx.lineTo(centerX + 20, centerY - 5);
                ctx.closePath();
                ctx.stroke();
                
                // 门
                ctx.strokeRect(centerX - 8, centerY + 3, 16, 12);
            }
        }
        
        function drawOrderIcon(ctx, size, active) {
            const centerX = size / 2;
            const centerY = size / 2;
            
            if (active) {
                // 填充样式
                ctx.fillRect(centerX - 15, centerY - 20, 30, 40);
                ctx.fillStyle = 'white';
                ctx.fillRect(centerX - 10, centerY - 25, 20, 10);
                // 文字线条
                ctx.fillRect(centerX - 8, centerY - 5, 16, 2);
                ctx.fillRect(centerX - 8, centerY + 0, 16, 2);
                ctx.fillRect(centerX - 8, centerY + 5, 10, 2);
            } else {
                // 轮廓样式
                ctx.strokeRect(centerX - 15, centerY - 20, 30, 40);
                ctx.strokeRect(centerX - 10, centerY - 25, 20, 10);
                // 文字线条
                ctx.beginPath();
                ctx.moveTo(centerX - 8, centerY - 5);
                ctx.lineTo(centerX + 8, centerY - 5);
                ctx.moveTo(centerX - 8, centerY);
                ctx.lineTo(centerX + 8, centerY);
                ctx.moveTo(centerX - 8, centerY + 5);
                ctx.lineTo(centerX + 2, centerY + 5);
                ctx.stroke();
            }
        }
        
        function drawProfileIcon(ctx, size, active) {
            const centerX = size / 2;
            const centerY = size / 2;
            
            if (active) {
                // 填充样式
                // 头部
                ctx.beginPath();
                ctx.arc(centerX, centerY - 8, 12, 0, Math.PI * 2);
                ctx.fill();
                // 身体
                ctx.beginPath();
                ctx.arc(centerX, centerY + 18, 18, Math.PI, 0, true);
                ctx.fill();
            } else {
                // 轮廓样式
                // 头部
                ctx.beginPath();
                ctx.arc(centerX, centerY - 8, 12, 0, Math.PI * 2);
                ctx.stroke();
                // 身体
                ctx.beginPath();
                ctx.arc(centerX, centerY + 18, 18, Math.PI, 0, true);
                ctx.stroke();
            }
        }
        
        // 自动生成所有图标
        window.onload = function() {
            setTimeout(() => generateIcon('home', false), 100);
            setTimeout(() => generateIcon('home', true), 200);
            setTimeout(() => generateIcon('order', false), 300);
            setTimeout(() => generateIcon('order', true), 400);
            setTimeout(() => generateIcon('profile', false), 500);
            setTimeout(() => generateIcon('profile', true), 600);
        };
    </script>
</body>
</html>
