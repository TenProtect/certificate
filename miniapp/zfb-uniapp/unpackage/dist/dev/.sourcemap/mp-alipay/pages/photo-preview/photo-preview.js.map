{"version":3,"file":"photo-preview.js","sources":["photo-preview.vue","cGFnZXMvcGhvdG8tcHJldmlldy9waG90by1wcmV2aWV3LnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"photo-preview-page\">\r\n    <!-- 照片预览区域 -->\r\n    <view class=\"photo-container\">\r\n      <view class=\"photo-wrapper\">\r\n        <image \r\n          :src=\"imagePath\" \r\n          class=\"preview-image\" \r\n          mode=\"aspectFit\"\r\n          @load=\"onImageLoad\"\r\n          @error=\"onImageError\"\r\n        />\r\n        \r\n        <!-- 照片信息叠加 -->\r\n        <view class=\"photo-overlay\">\r\n          <view class=\"document-badge\">\r\n            <text class=\"badge-text\">{{ documentInfo.name }}</text>\r\n          </view>\r\n          \r\n          <view class=\"photo-specs\">\r\n            <text class=\"spec-text\">{{ documentInfo.specs.pixelSize }}</text>\r\n            <text class=\"spec-text\">{{ documentInfo.specs.resolution }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 照片信息 -->\r\n    <view class=\"photo-info\">\r\n      <view class=\"info-header\">\r\n        <text class=\"info-title\">照片预览</text>\r\n        <text class=\"info-subtitle\">确认照片符合要求后提交</text>\r\n      </view>\r\n      \r\n      <view class=\"document-info\">\r\n        <text class=\"document-name\">{{ documentInfo.name }}</text>\r\n        <text class=\"document-specs\">{{ documentInfo.specs.pixelSize }} · {{ documentInfo.specs.resolution }}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 底部间距适配区域 -->\r\n    <view class=\"bottom-spacer\"></view>\r\n\r\n    <!-- 底部操作按钮 -->\r\n    <view class=\"bottom-actions\">\r\n      <view class=\"action-btn secondary\" @tap=\"retakePhoto\">\r\n        <text class=\"btn-text\">重拍</text>\r\n      </view>\r\n      <view class=\"action-btn primary\" @tap=\"submitOrder\">\r\n        <text class=\"btn-text\">提交</text>\r\n      </view>\r\n    </view>\r\n\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PhotoPreview',\r\n  data() {\r\n    return {\r\n      statusBarHeight: 0,\r\n      imagePath: '',\r\n      currentCity: '',\r\n      documentInfo: {\r\n        name: '身份证',\r\n        specs: {\r\n          printSize: '26x32mm',\r\n          pixelSize: '358x441px',\r\n          resolution: '300DPI'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \r\n  onLoad(options) {\r\n    // 获取系统信息\r\n    const systemInfo = uni.getSystemInfoSync()\r\n    this.statusBarHeight = systemInfo.statusBarHeight || 0\r\n    \r\n    // 获取传递的图片路径\r\n    if (options.image) {\r\n      this.imagePath = decodeURIComponent(options.image)\r\n    }\r\n    \r\n    // 获取传递的城市信息\r\n    if (options.city) {\r\n      this.currentCity = decodeURIComponent(options.city)\r\n    }\r\n    \r\n    // 获取传递的文档信息\r\n    if (options.document) {\r\n      try {\r\n        this.documentInfo = JSON.parse(decodeURIComponent(options.document))\r\n      } catch (e) {\r\n        console.error('解析文档数据失败:', e)\r\n      }\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    goBack() {\r\n      uni.navigateBack()\r\n    },\r\n    \r\n    retakePhoto() {\r\n      uni.navigateBack()\r\n    },\r\n    \r\n    onImageLoad() {\r\n      console.log('图片加载成功')\r\n    },\r\n    \r\n    onImageError() {\r\n      uni.showToast({\r\n        title: '图片加载失败',\r\n        icon: 'none'\r\n      })\r\n    },\r\n    \r\n    submitOrder() {\r\n      // 跳转到提交订单页面\r\n      const imageData = encodeURIComponent(this.imagePath)\r\n      const documentData = encodeURIComponent(JSON.stringify(this.documentInfo))\r\n      const cityData = encodeURIComponent(this.currentCity)\r\n      uni.navigateTo({\r\n        url: `/pages/order-submit/order-submit?image=${imageData}&document=${documentData}&city=${cityData}`\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.photo-preview-page {\r\n  background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);\r\n  min-height: 100vh;\r\n}\r\n\r\n/* 顶部导航栏 */\r\n.preview-header {\r\n  background: #fff;\r\n  box-shadow: 0 2rpx 16rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.header-content {\r\n  height: 88rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 32rpx;\r\n}\r\n\r\n.header-left {\r\n  width: 88rpx;\r\n  height: 88rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.back-icon {\r\n  font-size: 48rpx;\r\n  color: #333;\r\n  font-weight: 300;\r\n}\r\n\r\n.header-center {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.header-title {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.header-right {\r\n  width: 88rpx;\r\n  height: 88rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.retry-btn {\r\n  padding: 12rpx 24rpx;\r\n  background: #6C5CE7;\r\n  border-radius: 24rpx;\r\n}\r\n\r\n.retry-text {\r\n  font-size: 24rpx;\r\n  color: #fff;\r\n}\r\n\r\n/* 照片预览区域 */\r\n.photo-container {\r\n  padding: 32rpx;\r\n}\r\n\r\n.photo-wrapper {\r\n  position: relative;\r\n  border-radius: 24rpx;\r\n  overflow: hidden;\r\n  box-shadow: 0 12rpx 48rpx rgba(0, 0, 0, 0.15);\r\n  background: #fff;\r\n}\r\n\r\n.preview-image {\r\n  width: 100%;\r\n  height: 600rpx;\r\n  display: block;\r\n}\r\n\r\n.photo-overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: linear-gradient(0deg, rgba(0,0,0,0.6) 0%, transparent 40%, transparent 60%, rgba(0,0,0,0.4) 100%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 24rpx;\r\n}\r\n\r\n.document-badge {\r\n  align-self: flex-start;\r\n  background: rgba(108, 92, 231, 0.9);\r\n  padding: 12rpx 24rpx;\r\n  border-radius: 24rpx;\r\n  backdrop-filter: blur(10rpx);\r\n}\r\n\r\n.badge-text {\r\n  font-size: 24rpx;\r\n  color: #fff;\r\n  font-weight: 500;\r\n}\r\n\r\n.photo-specs {\r\n  align-self: flex-end;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8rpx;\r\n}\r\n\r\n.spec-text {\r\n  font-size: 20rpx;\r\n  color: #fff;\r\n  text-align: right;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  padding: 6rpx 12rpx;\r\n  border-radius: 12rpx;\r\n  backdrop-filter: blur(5rpx);\r\n}\r\n\r\n/* 照片信息 */\r\n.photo-info {\r\n  margin: 32rpx;\r\n  background: #fff;\r\n  border-radius: 24rpx;\r\n  padding: 40rpx 32rpx;\r\n  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.info-header {\r\n  margin-bottom: 32rpx;\r\n  text-align: center;\r\n}\r\n\r\n.info-title {\r\n  display: block;\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.info-subtitle {\r\n  display: block;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.document-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n}\r\n\r\n.document-name {\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.document-specs {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n/* 底部间距适配区域 */\r\n.bottom-spacer {\r\n  height: 152rpx;\r\n}\r\n\r\n/* 底部操作按钮 */\r\n.bottom-actions {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: #fff;\r\n  padding: 32rpx;\r\n  box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.08);\r\n  display: flex;\r\n  gap: 24rpx;\r\n}\r\n\r\n.action-btn {\r\n  flex: 1;\r\n  height: 88rpx;\r\n  border-radius: 44rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.action-btn.secondary {\r\n  background: #F5F5F5;\r\n  color: #333;\r\n}\r\n\r\n.action-btn.primary {\r\n  background: linear-gradient(135deg, #6C5CE7, #A855F7);\r\n  color: #fff;\r\n}\r\n\r\n.action-btn:active {\r\n  transform: scale(0.98);\r\n}\r\n\r\n.btn-text {\r\n  font-size: 32rpx;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/workspace/ClientWorkArea/证照小程序/miniapp/zfb-uniapp/pages/photo-preview/photo-preview.vue'\nmy.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAyDA,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EACN,OAAO;AACL,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,WAAW;AAAA,MACX,aAAa;AAAA,MACb,cAAc;AAAA,QACZ,MAAM;AAAA,QACN,OAAO;AAAA,UACL,WAAW;AAAA,UACX,WAAW;AAAA,UACX,YAAY;AAAA,QACd;AAAA,MACF;AAAA,IACF;AAAA,EACD;AAAA,EAED,OAAO,SAAS;AAEd,UAAM,aAAaA,cAAG,MAAC,kBAAkB;AACzC,SAAK,kBAAkB,WAAW,mBAAmB;AAGrD,QAAI,QAAQ,OAAO;AACjB,WAAK,YAAY,mBAAmB,QAAQ,KAAK;AAAA,IACnD;AAGA,QAAI,QAAQ,MAAM;AAChB,WAAK,cAAc,mBAAmB,QAAQ,IAAI;AAAA,IACpD;AAGA,QAAI,QAAQ,UAAU;AACpB,UAAI;AACF,aAAK,eAAe,KAAK,MAAM,mBAAmB,QAAQ,QAAQ,CAAC;AAAA,MACrE,SAAS,GAAG;AACVA,sBAAAA,MAAc,MAAA,SAAA,+CAAA,aAAa,CAAC;AAAA,MAC9B;AAAA,IACF;AAAA,EACD;AAAA,EAED,SAAS;AAAA,IACP,SAAS;AACPA,oBAAAA,MAAI,aAAa;AAAA,IAClB;AAAA,IAED,cAAc;AACZA,oBAAAA,MAAI,aAAa;AAAA,IAClB;AAAA,IAED,cAAc;AACZA,oBAAAA,MAAY,MAAA,OAAA,gDAAA,QAAQ;AAAA,IACrB;AAAA,IAED,eAAe;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AAAA,IACF;AAAA,IAED,cAAc;AAEZ,YAAM,YAAY,mBAAmB,KAAK,SAAS;AACnD,YAAM,eAAe,mBAAmB,KAAK,UAAU,KAAK,YAAY,CAAC;AACzE,YAAM,WAAW,mBAAmB,KAAK,WAAW;AACpDA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,0CAA0C,SAAS,aAAa,YAAY,SAAS,QAAQ;AAAA,OACnG;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;ACjIA,GAAG,WAAW,eAAe;"}