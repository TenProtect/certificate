{"version":3,"file":"order-submit.js","sources":["order-submit.vue","cGFnZXMvb3JkZXItc3VibWl0L29yZGVyLXN1Ym1pdC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"order-submit-page\">\r\n    <!-- 证件照预览 -->\r\n    <view class=\"photo-preview\">\r\n      <view class=\"photo-container\">\r\n        <image :src=\"imagePath\" class=\"photo-image\" mode=\"aspectFit\" />\r\n        <view class=\"photo-badge\">\r\n          <text class=\"badge-text\">{{ documentInfo.name }}</text>\r\n          <text class=\"badge-desc\">交易保障</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"photo-specs\">\r\n        <text class=\"spec-title\">规格：{{ documentInfo.specs.printSize }}</text>\r\n        <text class=\"spec-detail\">照片回执（含电子照）</text>\r\n        <view class=\"price-container\">\r\n          <text class=\"price-symbol\">¥</text>\r\n          <text class=\"price-amount\">25.00</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 办理城市 -->\r\n    <view class=\"city-section\">\r\n      <view class=\"section-title\">办理城市</view>\r\n      <view class=\"city-display\">\r\n        <text class=\"city-text\">{{ selectedCity || '未选择' }}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 订单备注 -->\r\n    <view class=\"remark-section\">\r\n      <view class=\"section-title\">订单备注</view>\r\n      <textarea \r\n        class=\"remark-input\" \r\n        v-model=\"orderRemark\"\r\n        placeholder=\"请输入特殊要求或备注信息\"\r\n        maxlength=\"200\"\r\n        auto-height\r\n      />\r\n      <view class=\"char-count\">{{ orderRemark.length }}/200</view>\r\n    </view>\r\n\r\n    <!-- 服务保障 -->\r\n    <view class=\"guarantee-section\">\r\n      <view class=\"guarantee-item\">\r\n        <view class=\"guarantee-icon\">💯</view>\r\n        <text class=\"guarantee-text\">官方认可回执，最快3分钟出回执(3-30分钟)</text>\r\n      </view>\r\n      <view class=\"guarantee-item\">\r\n        <view class=\"guarantee-icon\">💯</view>\r\n        <text class=\"guarantee-text\">交易成功后下载取，自行打印</text>\r\n      </view>\r\n      <view class=\"guarantee-item\">\r\n        <view class=\"guarantee-icon\">💯</view>\r\n        <text class=\"guarantee-text\">有疑问请查看下单须知及联系客服</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 证件照回执样本 -->\r\n    <view class=\"sample-section\">\r\n      <view class=\"sample-preview\">\r\n        <image src=\"/static/demo/sample-receipt.png\" class=\"sample-image\" mode=\"aspectFit\" />\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 合计金额 -->\r\n    <view class=\"total-section\">\r\n      <view class=\"total-left\">\r\n        <text class=\"total-label\">合计：</text>\r\n        <text class=\"total-price\">¥25.00</text>\r\n      </view>\r\n      <view class=\"agreement-checkbox\" @tap=\"toggleAgreement\">\r\n        <view class=\"checkbox\" :class=\"{ checked: agreedToTerms }\">\r\n          <text class=\"check-mark\" v-if=\"agreedToTerms\">✓</text>\r\n        </view>\r\n        <text class=\"agreement-text\">同意《隐私条款及服务协议》</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 底部间距适配区域 -->\r\n    <view class=\"bottom-spacer\"></view>\r\n\r\n    <!-- 底部提交按钮 -->\r\n    <view class=\"bottom-submit\">\r\n      <view class=\"submit-btn\" :class=\"{ disabled: !agreedToTerms }\" @tap=\"submitOrder\">\r\n        <text class=\"submit-text\">提交订单</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'OrderSubmit',\r\n  data() {\r\n    return {\r\n      statusBarHeight: 0,\r\n      imagePath: '',\r\n      selectedCity: '',\r\n      orderRemark: '',\r\n      documentInfo: {\r\n        name: '身份证',\r\n        specs: {\r\n          printSize: '26x32mm',\r\n          pixelSize: '358x441px',\r\n          resolution: '300DPI'\r\n        }\r\n      },\r\n      agreedToTerms: false\r\n    }\r\n  },\r\n  \r\n  onLoad(options) {\r\n    // 获取系统信息\r\n    const systemInfo = uni.getSystemInfoSync()\r\n    this.statusBarHeight = systemInfo.statusBarHeight || 0\r\n    \r\n    // 获取传递的图片路径\r\n    if (options.image) {\r\n      this.imagePath = decodeURIComponent(options.image)\r\n    }\r\n    \r\n    // 获取传递的城市信息\r\n    if (options.city) {\r\n      this.selectedCity = decodeURIComponent(options.city)\r\n    }\r\n    \r\n    // 获取传递的文档信息\r\n    if (options.document) {\r\n      try {\r\n        this.documentInfo = JSON.parse(decodeURIComponent(options.document))\r\n      } catch (e) {\r\n        console.error('解析文档数据失败:', e)\r\n      }\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    goBack() {\r\n      uni.navigateBack()\r\n    },\r\n    \r\n    toggleAgreement() {\r\n      this.agreedToTerms = !this.agreedToTerms\r\n    },\r\n    \r\n    submitOrder() {\r\n      if (!this.agreedToTerms) {\r\n        uni.showToast({\r\n          title: '请先同意服务协议',\r\n          icon: 'none'\r\n        })\r\n        return\r\n      }\r\n      \r\n      // 提交订单逻辑\r\n      const orderData = {\r\n        image: this.imagePath,\r\n        document: this.documentInfo,\r\n        city: this.selectedCity,\r\n        remark: this.orderRemark,\r\n        agreedToTerms: this.agreedToTerms\r\n      }\r\n      \r\n      console.log('提交订单数据:', orderData)\r\n      \r\n      uni.showLoading({\r\n        title: '提交中...'\r\n      })\r\n      \r\n      setTimeout(() => {\r\n        uni.hideLoading()\r\n        uni.showToast({\r\n          title: '订单提交成功',\r\n          icon: 'success'\r\n        })\r\n        \r\n        // 可以跳转到订单详情或支付页面\r\n        setTimeout(() => {\r\n          uni.navigateBack({\r\n            delta: 3 // 返回到首页\r\n          })\r\n        }, 1500)\r\n      }, 2000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.order-submit-page {\r\n  background-color: #F5F5F5;\r\n  min-height: 100vh;\r\n}\r\n\r\n/* 证件照预览 */\r\n.photo-preview {\r\n  background: #fff;\r\n  padding: 32rpx;\r\n  margin-bottom: 20rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 32rpx;\r\n}\r\n\r\n.photo-container {\r\n  position: relative;\r\n  width: 160rpx;\r\n  height: 200rpx;\r\n  border-radius: 12rpx;\r\n  overflow: hidden;\r\n  border: 2rpx solid #E0E0E0;\r\n}\r\n\r\n.photo-image {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.photo-badge {\r\n  position: absolute;\r\n  top: 8rpx;\r\n  left: 8rpx;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  padding: 4rpx 8rpx;\r\n  border-radius: 8rpx;\r\n}\r\n\r\n.badge-text {\r\n  font-size: 20rpx;\r\n  color: #fff;\r\n  display: block;\r\n}\r\n\r\n.badge-desc {\r\n  font-size: 16rpx;\r\n  color: #4CAF50;\r\n  display: block;\r\n}\r\n\r\n.photo-specs {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8rpx;\r\n}\r\n\r\n.spec-title {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.spec-detail {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n.price-container {\r\n  display: flex;\r\n  align-items: baseline;\r\n  margin-top: 16rpx;\r\n}\r\n\r\n.price-symbol {\r\n  font-size: 32rpx;\r\n  color: #FF4444;\r\n  font-weight: 600;\r\n}\r\n\r\n.price-amount {\r\n  font-size: 48rpx;\r\n  color: #FF4444;\r\n  font-weight: 700;\r\n}\r\n\r\n/* 办理城市 */\r\n.city-section {\r\n  background: #fff;\r\n  padding: 32rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.section-title {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n  margin-bottom: 24rpx;\r\n}\r\n\r\n.city-display {\r\n  padding: 24rpx;\r\n  background: #F8F9FA;\r\n  border-radius: 12rpx;\r\n  border: 2rpx solid #E0E0E0;\r\n}\r\n\r\n.city-text {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n/* 订单备注 */\r\n.remark-section {\r\n  background: #fff;\r\n  padding: 32rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.remark-input {\r\n  width: 100%;\r\n  min-height: 120rpx;\r\n  padding: 24rpx;\r\n  background: #F8F9FA;\r\n  border-radius: 12rpx;\r\n  border: 2rpx solid #E0E0E0;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  line-height: 1.5;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.char-count {\r\n  text-align: right;\r\n  margin-top: 12rpx;\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n/* 服务保障 */\r\n.guarantee-section {\r\n  background: #fff;\r\n  padding: 32rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.guarantee-item {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 16rpx;\r\n  margin-bottom: 24rpx;\r\n}\r\n\r\n.guarantee-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.guarantee-icon {\r\n  font-size: 32rpx;\r\n  margin-top: 4rpx;\r\n}\r\n\r\n.guarantee-text {\r\n  flex: 1;\r\n  font-size: 26rpx;\r\n  color: #666;\r\n  line-height: 1.5;\r\n}\r\n\r\n/* 证件照回执样本 */\r\n.sample-section {\r\n  background: #fff;\r\n  padding: 32rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.sample-preview {\r\n  position: relative;\r\n  border-radius: 12rpx;\r\n  overflow: hidden;\r\n  border: 2rpx solid #E0E0E0;\r\n}\r\n\r\n.sample-image {\r\n  width: 100%;\r\n  height: 400rpx;\r\n}\r\n\r\n/* 合计金额 */\r\n.total-section {\r\n  background: #fff;\r\n  padding: 32rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.total-left {\r\n  display: flex;\r\n  align-items: baseline;\r\n  gap: 8rpx;\r\n}\r\n\r\n.total-label {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.total-price {\r\n  font-size: 40rpx;\r\n  color: #FF4444;\r\n  font-weight: 700;\r\n}\r\n\r\n.agreement-checkbox {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12rpx;\r\n}\r\n\r\n.checkbox {\r\n  width: 32rpx;\r\n  height: 32rpx;\r\n  border: 2rpx solid #E0E0E0;\r\n  border-radius: 6rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.checkbox.checked {\r\n  background: #6C5CE7;\r\n  border-color: #6C5CE7;\r\n}\r\n\r\n.check-mark {\r\n  font-size: 20rpx;\r\n  color: #fff;\r\n  font-weight: bold;\r\n}\r\n\r\n.agreement-text {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n/* 底部间距适配区域 */\r\n.bottom-spacer {\r\n  height: 152rpx;\r\n}\r\n\r\n/* 底部提交按钮 */\r\n.bottom-submit {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: #fff;\r\n  padding: 32rpx;\r\n  box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.submit-btn {\r\n  height: 88rpx;\r\n  background: linear-gradient(135deg, #6C5CE7, #A855F7);\r\n  border-radius: 44rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.submit-btn.disabled {\r\n  background: #E0E0E0;\r\n  opacity: 0.6;\r\n}\r\n\r\n.submit-btn:active:not(.disabled) {\r\n  transform: scale(0.98);\r\n}\r\n\r\n.submit-text {\r\n  font-size: 32rpx;\r\n  color: #fff;\r\n  font-weight: 600;\r\n}\r\n\r\n.submit-btn.disabled .submit-text {\r\n  color: #999;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/workspace/ClientWorkArea/证照小程序/miniapp/zfb-uniapp/pages/order-submit/order-submit.vue'\nmy.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AA6FA,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EACN,OAAO;AACL,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,WAAW;AAAA,MACX,cAAc;AAAA,MACd,aAAa;AAAA,MACb,cAAc;AAAA,QACZ,MAAM;AAAA,QACN,OAAO;AAAA,UACL,WAAW;AAAA,UACX,WAAW;AAAA,UACX,YAAY;AAAA,QACd;AAAA,MACD;AAAA,MACD,eAAe;AAAA,IACjB;AAAA,EACD;AAAA,EAED,OAAO,SAAS;AAEd,UAAM,aAAaA,cAAG,MAAC,kBAAkB;AACzC,SAAK,kBAAkB,WAAW,mBAAmB;AAGrD,QAAI,QAAQ,OAAO;AACjB,WAAK,YAAY,mBAAmB,QAAQ,KAAK;AAAA,IACnD;AAGA,QAAI,QAAQ,MAAM;AAChB,WAAK,eAAe,mBAAmB,QAAQ,IAAI;AAAA,IACrD;AAGA,QAAI,QAAQ,UAAU;AACpB,UAAI;AACF,aAAK,eAAe,KAAK,MAAM,mBAAmB,QAAQ,QAAQ,CAAC;AAAA,MACrE,SAAS,GAAG;AACVA,sBAAAA,MAAc,MAAA,SAAA,8CAAA,aAAa,CAAC;AAAA,MAC9B;AAAA,IACF;AAAA,EACD;AAAA,EAED,SAAS;AAAA,IACP,SAAS;AACPA,oBAAAA,MAAI,aAAa;AAAA,IAClB;AAAA,IAED,kBAAkB;AAChB,WAAK,gBAAgB,CAAC,KAAK;AAAA,IAC5B;AAAA,IAED,cAAc;AACZ,UAAI,CAAC,KAAK,eAAe;AACvBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAGA,YAAM,YAAY;AAAA,QAChB,OAAO,KAAK;AAAA,QACZ,UAAU,KAAK;AAAA,QACf,MAAM,KAAK;AAAA,QACX,QAAQ,KAAK;AAAA,QACb,eAAe,KAAK;AAAA,MACtB;AAEAA,oBAAAA,MAAY,MAAA,OAAA,8CAAA,WAAW,SAAS;AAEhCA,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO;AAAA,OACR;AAED,iBAAW,MAAM;AACfA,sBAAAA,MAAI,YAAY;AAChBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AAGD,mBAAW,MAAM;AACfA,wBAAAA,MAAI,aAAa;AAAA,YACf,OAAO;AAAA;AAAA,WACR;AAAA,QACF,GAAE,IAAI;AAAA,MACR,GAAE,GAAI;AAAA,IACT;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;AC1LA,GAAG,WAAW,eAAe;"}